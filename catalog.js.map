{"version":3,"file":"catalog.js","sources":["../src/js/catalog.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '8a0658d1a6872272a1ed1ab9af543174';\nconst API_BASE_URL = 'https://api.themoviedb.org/3';\nconst IMAGE_BASE_URL = 'https://image.tmdb.org/t/p';\n\n// Cache DOM elements\nconst domElements = {\n  weeklyMovieList: document.querySelector('.weekly-movie-list'),\n  hero: document.querySelector('.hero'),\n  defaultHero: document.querySelector('.default-hero'),\n  movieHero: document.querySelector('.movie-hero'),\n  prevButton: document.querySelector('.slider-button.prev'),\n  nextButton: document.querySelector('.slider-button.next'),\n  themeSwitch: document.getElementById('theme-switch'),\n  upcomingMovieList: document.querySelector('.upcoming-movies-list'),\n  modal: document.getElementById('movieDetailsModal'),\n  modalCloseBtn: document.querySelector('.modal-close-btn'),\n  videoModal: document.getElementById('videoModal'),\n  videoFrame: document.getElementById('videoFrame'),\n  videoModalCloseBtn: document.querySelector('#videoModal .modal-close-btn'),\n  errorModal: document.getElementById('errorModal'),\n  errorModalCloseBtn: document.querySelector('#errorModal .modal-close-btn'),\n  errorMessage: document.querySelector('.error-message'),\n};\n\n// API configuration\nconst apiBaseUrl = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  params: {\n    api_key: API_KEY,\n  },\n});\n\n// Utility functions\nconst fetchData = async (endpoint, params = {}) => {\n  try {\n    const response = await apiBaseUrl.get(endpoint, { params });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    return null;\n  }\n};\n\nconst createStarRating = rating => {\n  return Array(5)\n    .fill()\n    .map(\n      (_, index) => `\n      <i class=\"fas fa-star ${\n        index < Math.round(rating / 2) ? 'filled' : ''\n      }\"></i>\n    `\n    )\n    .join('');\n};\n\nconst formatDate = dateString => {\n  return new Date(dateString).toLocaleDateString('en-US', {\n    month: 'long',\n    day: 'numeric',\n    year: 'numeric',\n  });\n};\n\nconst getGenreNames = (genres, limit = 2) => {\n  return (genres || [])\n    .slice(0, limit)\n    .map(g => g.name)\n    .join(', ');\n};\n\n// Theme handling\nconst initTheme = () => {\n  const savedTheme = localStorage.getItem('theme');\n  if (savedTheme === 'light') {\n    document.documentElement.setAttribute('data-theme', 'light');\n    domElements.themeSwitch.checked = false;\n  } else {\n    document.documentElement.removeAttribute('data-theme');\n    domElements.themeSwitch.checked = true;\n  }\n\n  domElements.themeSwitch.addEventListener('change', () => {\n    if (domElements.themeSwitch.checked) {\n      document.documentElement.removeAttribute('data-theme');\n      localStorage.setItem('theme', 'dark');\n    } else {\n      document.documentElement.setAttribute('data-theme', 'light');\n      localStorage.setItem('theme', 'light');\n    }\n  });\n};\n\n// Slider functionality\nconst initSlider = data => {\n  let currentSlide = 0;\n  const slidesPerView = 4;\n  const totalSlides = data.results.length;\n  const movieItem =\n    domElements.weeklyMovieList.querySelector('.weekly-movie-item');\n  const itemWidth = movieItem.offsetWidth;\n  const gap = 16;\n\n  domElements.prevButton.style.display = 'none';\n\n  const updateSliderPosition = () => {\n    const offset = currentSlide * (itemWidth + gap);\n    domElements.weeklyMovieList.style.transform = `translateX(-${offset}px)`;\n    domElements.prevButton.style.display = currentSlide === 0 ? 'none' : 'flex';\n    domElements.nextButton.style.display =\n      currentSlide >= totalSlides - slidesPerView ? 'none' : 'flex';\n  };\n\n  domElements.prevButton.addEventListener('click', () => {\n    if (currentSlide > 0) {\n      currentSlide--;\n      updateSliderPosition();\n    }\n  });\n\n  domElements.nextButton.addEventListener('click', () => {\n    if (currentSlide < totalSlides - slidesPerView) {\n      currentSlide++;\n      updateSliderPosition();\n    }\n  });\n};\n\n// Show video modal\nconst showVideoModal = videoId => {\n  domElements.videoFrame.src = `https://www.youtube.com/embed/${videoId}?autoplay=1`;\n  domElements.videoModal.classList.add('active');\n  document.body.style.overflow = 'hidden';\n};\n\n// Close video modal\nconst closeVideoModal = () => {\n  domElements.videoFrame.src = '';\n  domElements.videoModal.classList.remove('active');\n  document.body.style.overflow = '';\n};\n\n// Event listeners for video modal\ndomElements.videoModalCloseBtn.addEventListener('click', closeVideoModal);\ndomElements.videoModal.addEventListener('click', e => {\n  if (e.target === domElements.videoModal) {\n    closeVideoModal();\n  }\n});\n\n// Show error modal\nconst showErrorModal = message => {\n  domElements.errorMessage.textContent = message;\n  domElements.errorModal.classList.add('active');\n  document.body.style.overflow = 'hidden';\n};\n\n// Close error modal\nconst closeErrorModal = () => {\n  domElements.errorModal.classList.remove('active');\n  document.body.style.overflow = '';\n};\n\n// Event listeners for error modal\ndomElements.errorModalCloseBtn.addEventListener('click', closeErrorModal);\ndomElements.errorModal.addEventListener('click', e => {\n  if (e.target === domElements.errorModal) {\n    closeErrorModal();\n  }\n});\n\n// Movie click handler\nconst handleMovieClick = async (movieId, data) => {\n  const movieDetails = await fetchData(`/movie/${movieId}`);\n\n  domElements.hero.style.backgroundImage = `url(https://image.tmdb.org/t/p/original${movieDetails.backdrop_path})`;\n\n  const contentElements = [\n    `<h1>${movieDetails.title}</h1>`,\n    `<div class=\"movie-rating-stars\">\n      <div class=\"stars\">${createStarRating(movieDetails.vote_average)}</div>\n      <span class=\"rating-number\">${movieDetails.vote_average.toFixed(1)}</span>\n    </div>`,\n    `<p>${movieDetails.overview.slice(0, 150)}...</p>`,\n    `<div class=\"hero-buttons\">\n      <button class=\"watch-trailer-btn\" data-movie-id=\"${movieId}\">\n        <span>Watch Trailer</span>\n      </button>\n      <button class=\"more-details-btn\" data-movie-id=\"${movieId}\">\n        <span>More Details</span>\n      </button>\n    </div>`,\n  ];\n\n  domElements.movieHero.innerHTML = contentElements.join('');\n  domElements.defaultHero.style.display = 'none';\n  domElements.movieHero.style.display = 'block';\n  domElements.hero.scrollIntoView({ behavior: 'smooth' });\n\n  // Add click event listeners for buttons\n  const watchTrailerBtn =\n    domElements.movieHero.querySelector('.watch-trailer-btn');\n  const moreDetailsBtn =\n    domElements.movieHero.querySelector('.more-details-btn');\n\n  watchTrailerBtn.addEventListener('click', async () => {\n    try {\n      const videos = await fetchData(`/movie/${movieId}/videos`);\n      const trailer = videos.results.find(\n        video => video.type === 'Trailer' && video.site === 'YouTube'\n      );\n\n      if (trailer) {\n        showVideoModal(trailer.key);\n      } else {\n        showErrorModal(\n          'Sorry, trailer is not available for this movie at the moment. Please check back later.'\n        );\n      }\n    } catch (error) {\n      console.error('Error fetching video:', error);\n      showErrorModal(\n        'Sorry, we encountered an error while loading the trailer. Please try again later.'\n      );\n    }\n  });\n\n  moreDetailsBtn.addEventListener('click', () =>\n    showMovieDetails(movieDetails)\n  );\n};\n\n// Format currency\nconst formatCurrency = amount => {\n  if (!amount) return 'N/A';\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    maximumFractionDigits: 0,\n  }).format(amount);\n};\n\n// Format runtime\nconst formatRuntime = minutes => {\n  if (!minutes) return 'N/A';\n  const hours = Math.floor(minutes / 60);\n  const remainingMinutes = minutes % 60;\n  return `${hours}h ${remainingMinutes}m`;\n};\n\n// Show movie details in modal\nconst showMovieDetails = async movieId => {\n  try {\n    const [movieDetails, credits] = await Promise.all([\n      fetchData(`/movie/${movieId}`),\n      fetchData(`/movie/${movieId}/credits`),\n    ]);\n\n    // Update modal content\n    domElements.modal.querySelector('.modal-title').textContent =\n      movieDetails.title;\n    domElements.modal.querySelector('.modal-rating').innerHTML = `\n      <div class=\"stars\">${createStarRating(movieDetails.vote_average)}</div>\n      <span>${movieDetails.vote_average.toFixed(1)}</span>\n    `;\n\n    // Update movie info\n    domElements.modal.querySelector('.modal-genres').innerHTML = `\n      <h4>Genres</h4>\n      <p>${movieDetails.genres.map(g => g.name).join(', ')}</p>\n    `;\n    domElements.modal.querySelector('.modal-release-date').innerHTML = `\n      <h4>Release Date</h4>\n      <p>${formatDate(movieDetails.release_date)}</p>\n    `;\n    domElements.modal.querySelector('.modal-runtime').innerHTML = `\n      <h4>Runtime</h4>\n      <p>${formatRuntime(movieDetails.runtime)}</p>\n    `;\n    domElements.modal.querySelector('.modal-budget').innerHTML = `\n      <h4>Budget</h4>\n      <p>${formatCurrency(movieDetails.budget)}</p>\n    `;\n    domElements.modal.querySelector('.modal-revenue').innerHTML = `\n      <h4>Revenue</h4>\n      <p>${formatCurrency(movieDetails.revenue)}</p>\n    `;\n\n    // Update overview\n    domElements.modal.querySelector('.modal-overview p').textContent =\n      movieDetails.overview;\n\n    // Update cast\n    const castList = domElements.modal.querySelector('.cast-list');\n    castList.innerHTML = credits.cast\n      .slice(0, 6)\n      .map(\n        actor => `\n        <div class=\"cast-member\">\n          <img src=\"https://image.tmdb.org/t/p/w185${actor.profile_path}\" alt=\"${actor.name}\">\n          <div class=\"name\">${actor.name}</div>\n          <div class=\"character\">${actor.character}</div>\n        </div>\n      `\n      )\n      .join('');\n\n    // Show modal\n    domElements.modal.classList.add('active');\n    document.body.style.overflow = 'hidden';\n  } catch (error) {\n    console.error('Error fetching movie details:', error);\n  }\n};\n\n// Close modal\nconst closeModal = () => {\n  domElements.modal.classList.remove('active');\n  document.body.style.overflow = '';\n};\n\n// Event listeners for modal\ndomElements.modalCloseBtn.addEventListener('click', closeModal);\ndomElements.modal.addEventListener('click', e => {\n  if (e.target === domElements.modal) {\n    closeModal();\n  }\n});\n\n// Render functions\nconst renderUpcomingMovies = async () => {\n  try {\n    const currentDate = new Date();\n    const lastDayOfMonth = new Date(\n      currentDate.getFullYear(),\n      currentDate.getMonth() + 1,\n      0\n    );\n\n    const data = await fetchData('/movie/upcoming', {\n      region: 'US',\n      language: 'en-US',\n    });\n\n    if (!data?.results) return;\n\n    const thisMonthMovies = data.results\n      .filter(movie => {\n        const releaseDate = new Date(movie.release_date);\n        return (\n          releaseDate <= lastDayOfMonth &&\n          releaseDate >= currentDate &&\n          movie.backdrop_path &&\n          movie.title &&\n          movie.vote_average > 0\n        );\n      })\n      .sort((a, b) => b.popularity - a.popularity)\n      .slice(0, 3);\n\n    if (thisMonthMovies.length === 0) {\n      domElements.upcomingMovieList.innerHTML =\n        '<p>No upcoming movies available for this month.</p>';\n      return;\n    }\n\n    const moviePromises = thisMonthMovies.map(async movie => {\n      const movieDetails = await fetchData(`/movie/${movie.id}`);\n      const genreNames = getGenreNames(movieDetails?.genres, 3);\n      const library = JSON.parse(localStorage.getItem('library') || '[]');\n      const isInLibrary = library.some(m => m.id === movie.id);\n\n      return `\n        <li class=\"upcoming-movie-item\">\n          <a class=\"upcoming-movie-link\" href=\"#\">\n            <div class=\"upcoming-movie-image-container\">\n              <img class=\"upcoming-movie-image\" src=\"https://image.tmdb.org/t/p/w1280${\n                movie.backdrop_path\n              }\" alt=\"${movie.title}\">\n            </div>\n            <div class=\"upcoming-movie-info\">\n              <h3 class=\"movie-title\">${movie.title}</h3>\n              <div class=\"info-section\">\n                <div class=\"info-row\">\n                  <span class=\"info-label\">Release Date</span>\n                  <span class=\"info-value-date\">${formatDate(\n                    movie.release_date\n                  )}</span>\n                </div>\n                <div class=\"info-row\">\n                  <span class=\"info-label\">Vote / Votes</span>\n                  <span class=\"info-value-rating\">\n                    ${movie.vote_average.toFixed(\n                      1\n                    )} / ${movie.vote_count.toLocaleString()} votes\n                  </span>\n                </div>\n                <div class=\"info-row\">\n                  <span class=\"info-label\">Popularity</span>\n                  <span class=\"info-value-popularity\">${Math.round(\n                    movie.popularity\n                  ).toLocaleString()}</span>\n                </div>\n                <div class=\"info-row\">\n                  <span class=\"info-label\">Genre</span>\n                  <span class=\"info-value-genre\">${genreNames}</span>\n                </div>\n              </div>\n              <div class=\"movie-about\">\n                <h4 class=\"about-label\">ABOUT</h4>\n                <p class=\"about-text\">${movie.overview}</p>\n              </div>\n              <button class=\"add-to-library ${\n                isInLibrary ? 'added' : ''\n              }\" data-movie-id=\"${movie.id}\">\n                <i class=\"fas ${isInLibrary ? 'fa-check' : 'fa-plus'}\"></i>\n                ${isInLibrary ? 'Added to library' : 'Add to my library'}\n              </button>\n            </div>\n          </a>\n        </li>\n      `;\n    });\n\n    const movieItems = await Promise.all(moviePromises);\n    domElements.upcomingMovieList.innerHTML = movieItems.join('');\n\n    // Add click event listeners using event delegation\n    domElements.upcomingMovieList.addEventListener('click', e => {\n      const button = e.target.closest('.add-to-library');\n      if (!button) return;\n\n      e.preventDefault();\n      const movieId = parseInt(button.dataset.movieId);\n      const movie = thisMonthMovies.find(m => m.id === movieId);\n\n      if (!movie) return;\n\n      // Get movie data\n      const movieData = {\n        id: movieId,\n        title: movie.title,\n        poster_path: movie.poster_path,\n        release_date: movie.release_date,\n        vote_average: movie.vote_average,\n      };\n\n      // Update button state\n      button.innerHTML = '<i class=\"fas fa-check\"></i> Added to library';\n      button.style.background = '#2ecc71';\n      button.disabled = true;\n\n      // Store in localStorage\n      let library = JSON.parse(localStorage.getItem('library') || '[]');\n      if (!library.some(m => m.id === movieId)) {\n        library.push(movieData);\n        localStorage.setItem('library', JSON.stringify(library));\n      }\n    });\n  } catch (error) {\n    console.error('Error rendering upcoming movies:', error);\n    domElements.upcomingMovieList.innerHTML =\n      '<p>Error loading upcoming movies.</p>';\n  }\n};\n\n// Hero bölümünü film detaylarıyla güncelle\nasync function updateHeroWithMovie(movie) {\n  const heroContent = document.querySelector('.hero-content.movie-hero');\n  const hero = document.querySelector('.hero');\n\n  // Hero background'ını güncelle\n  hero.style.backgroundImage = `url(${IMAGE_BASE_URL}/original${movie.backdrop_path})`;\n\n  // Hero içeriğini güncelle\n  heroContent.innerHTML = `\n    <h1>${movie.title}</h1>\n    <div class=\"movie-rating-stars\">\n      <div class=\"stars\">${createStarRating(movie.vote_average)}</div>\n      <span class=\"rating-number\">${movie.vote_average.toFixed(1)}</span>\n    </div>\n    <p>${movie.overview.slice(0, 150)}...</p>\n    <div class=\"hero-buttons\">\n      <button class=\"watch-trailer-btn\" data-movie-id=\"${movie.id}\">\n        <span>Watch Trailer</span>\n      </button>\n      <button class=\"more-details-btn\" data-movie-id=\"${movie.id}\">\n        <span>More Details</span>\n      </button>\n    </div>\n  `;\n\n  // Hero'yu göster\n  heroContent.style.display = 'block';\n\n  // Butonlara event listener'ları ekle\n  const watchTrailerBtn = heroContent.querySelector('.watch-trailer-btn');\n  const moreDetailsBtn = heroContent.querySelector('.more-details-btn');\n\n  watchTrailerBtn.addEventListener('click', async () => {\n    try {\n      const videos = await fetchData(`/movie/${movie.id}/videos`);\n      const trailer = videos.results.find(\n        video => video.type === 'Trailer' && video.site === 'YouTube'\n      );\n\n      if (trailer) {\n        showVideoModal(trailer.key);\n      } else {\n        showErrorModal(\n          'Sorry, trailer is not available for this movie at the moment. Please check back later.'\n        );\n      }\n    } catch (error) {\n      console.error('Error fetching video:', error);\n      showErrorModal(\n        'Sorry, we encountered an error while loading the trailer. Please try again later.'\n      );\n    }\n  });\n\n  moreDetailsBtn.addEventListener('click', () => showMovieDetails(movie.id));\n}\n\n// Otomatik hero değişimi için değişkenler\nlet currentMovieIndex = 0;\nlet trendingMovies = [];\nlet heroInterval;\n\n// Hero'yu otomatik olarak güncelle\nfunction startHeroAutoSlide(movies) {\n  trendingMovies = movies;\n  currentMovieIndex = Math.floor(Math.random() * movies.length);\n\n  // İlk filmi göster\n  updateHeroWithMovie(trendingMovies[currentMovieIndex]);\n\n  // Navigasyon butonlarına event listener'ları ekle\n  const prevBtn = document.querySelector('.hero-nav-btn.prev-movie');\n  const nextBtn = document.querySelector('.hero-nav-btn.next-movie');\n\n  prevBtn.addEventListener('click', () => {\n    // Otomatik geçişi sıfırla\n    clearInterval(heroInterval);\n\n    // Önceki filme geç\n    currentMovieIndex =\n      (currentMovieIndex - 1 + trendingMovies.length) % trendingMovies.length;\n    updateHeroWithMovie(trendingMovies[currentMovieIndex]);\n\n    // Otomatik geçişi yeniden başlat\n    heroInterval = setInterval(() => {\n      currentMovieIndex = (currentMovieIndex + 1) % trendingMovies.length;\n      updateHeroWithMovie(trendingMovies[currentMovieIndex]);\n    }, 5000);\n  });\n\n  nextBtn.addEventListener('click', () => {\n    // Otomatik geçişi sıfırla\n    clearInterval(heroInterval);\n\n    // Sonraki filme geç\n    currentMovieIndex = (currentMovieIndex + 1) % trendingMovies.length;\n    updateHeroWithMovie(trendingMovies[currentMovieIndex]);\n\n    // Otomatik geçişi yeniden başlat\n    heroInterval = setInterval(() => {\n      currentMovieIndex = (currentMovieIndex + 1) % trendingMovies.length;\n      updateHeroWithMovie(trendingMovies[currentMovieIndex]);\n    }, 5000);\n  });\n\n  // Her 5 saniyede bir filmi değiştir\n  heroInterval = setInterval(() => {\n    currentMovieIndex = (currentMovieIndex + 1) % trendingMovies.length;\n    updateHeroWithMovie(trendingMovies[currentMovieIndex]);\n  }, 5000);\n}\n\n// Weekly trending filmleri göster\nasync function displayWeeklyTrendingMovies(movies) {\n  const weeklyMovieList = document.querySelector('.weekly-movie-list');\n  weeklyMovieList.innerHTML = '';\n\n  for (const movie of movies) {\n    try {\n      // Get movie details to fetch genres\n      const movieDetails = await fetchData(`/movie/${movie.id}`);\n      const genreNames = movieDetails.genres.map(g => g.name).join(', ');\n\n      // Check if movie is in library\n      const library = JSON.parse(localStorage.getItem('library') || '[]');\n      const isInLibrary = library.some(m => m.id === movie.id);\n\n      const movieItem = document.createElement('li');\n      movieItem.className = 'weekly-movie-item';\n      movieItem.innerHTML = `\n        <a href=\"#\" class=\"weekly-movie-link\" data-movie-id=\"${movie.id}\">\n          <img\n            src=\"${IMAGE_BASE_URL}/w500${movie.poster_path}\"\n            alt=\"${movie.title}\"\n            class=\"weekly-movie-image\"\n          />\n          <div class=\"movie-rating\">\n            <i class=\"fas fa-star\"></i>\n            <span>${movie.vote_average.toFixed(1)}</span>\n          </div>\n          <div class=\"movie-year\">${movie.release_date.split('-')[0]}</div>\n          <div class=\"weekly-movie-info\">\n            <h3 class=\"movie-title\">${movie.title}</h3>\n            <div class=\"movie-meta\">\n              <span>${genreNames}</span>\n              <span class=\"movie-meta-divider\">|</span>\n              <span>${movie.release_date.split('-')[0]}</span>\n            </div>\n          </div>\n        </a>\n        <button class=\"add-to-library ${\n          isInLibrary ? 'added' : ''\n        }\" data-movie-id=\"${movie.id}\">\n          <i class=\"fas ${isInLibrary ? 'fa-check' : 'fa-plus'}\"></i>\n          ${isInLibrary ? 'Added to library' : 'Add to library'}\n        </button>\n      `;\n\n      // Add to Library butonuna tıklama olayı ekle\n      const addToLibraryBtn = movieItem.querySelector('.add-to-library');\n      addToLibraryBtn.addEventListener('click', async e => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        const movieId = parseInt(addToLibraryBtn.dataset.movieId);\n        const movie = movies.find(m => m.id === movieId);\n        if (!movie) return;\n\n        // Get movie details for complete data\n        const movieDetails = await fetchData(`/movie/${movieId}`);\n\n        // Get movie data with consistent format\n        const movieData = {\n          id: movieId,\n          title: movie.title,\n          poster_path: movie.poster_path,\n          release_date: movie.release_date,\n          vote_average: movie.vote_average,\n          genres: movieDetails.genres.map(g => g.name).join(', '),\n          overview: movie.overview,\n        };\n\n        // Check if movie is in library\n        let library = JSON.parse(localStorage.getItem('library') || '[]');\n        const isInLibrary = library.some(m => m.id === movieId);\n\n        if (isInLibrary) {\n          // Remove from library\n          library = library.filter(m => m.id !== movieId);\n          localStorage.setItem('library', JSON.stringify(library));\n          addToLibraryBtn.innerHTML =\n            '<i class=\"fas fa-plus\"></i> Add to library';\n          addToLibraryBtn.style.background = '#ff6b01';\n          addToLibraryBtn.disabled = false;\n        } else {\n          // Add to library\n          library.push(movieData);\n          localStorage.setItem('library', JSON.stringify(library));\n          addToLibraryBtn.innerHTML =\n            '<i class=\"fas fa-check\"></i> Added to library';\n          addToLibraryBtn.style.background = '#2ecc71';\n          addToLibraryBtn.disabled = true;\n        }\n      });\n\n      // Film kartına tıklama olayı ekle\n      const movieLink = movieItem.querySelector('.weekly-movie-link');\n      movieLink.addEventListener('click', async e => {\n        e.preventDefault();\n\n        // Otomatik geçişi durdur\n        clearInterval(heroInterval);\n\n        // Hero'yu güncelle\n        updateHeroWithMovie(movie);\n\n        // Sayfayı hero bölümüne kaydır\n        document.querySelector('.hero').scrollIntoView({ behavior: 'smooth' });\n\n        // Otomatik geçişi yeniden başlat\n        heroInterval = setInterval(() => {\n          currentMovieIndex = (currentMovieIndex + 1) % trendingMovies.length;\n          updateHeroWithMovie(trendingMovies[currentMovieIndex]);\n        }, 5000);\n      });\n\n      weeklyMovieList.appendChild(movieItem);\n    } catch (error) {\n      console.error(`Error fetching details for movie ${movie.id}:`, error);\n    }\n  }\n}\n\n// Fetch weekly trending movies\nasync function fetchWeeklyTrendingMovies() {\n  try {\n    const data = await fetchData('/trending/movie/week');\n    if (!data?.results) return;\n\n    // Weekly filmleri göster\n    displayWeeklyTrendingMovies(data.results);\n\n    // Otomatik hero değişimini başlat\n    startHeroAutoSlide(data.results);\n  } catch (error) {\n    console.error('Error fetching trending movies:', error);\n    showErrorModal('Failed to load trending movies. Please try again later.');\n  }\n}\n\n// Pagination için değişkenler\nlet currentPage = 1;\nlet totalPages = 27;\nlet isLoading = false;\n\n// Sayfa numarasına tıklandığında filmleri getir\nasync function handlePageClick(pageNumber) {\n  if (isLoading || pageNumber === currentPage) return;\n\n  try {\n    isLoading = true;\n    const data = await fetchData('/movie/popular', {\n      page: pageNumber,\n      language: 'en-US',\n    });\n\n    if (!data?.results) return;\n\n    // Filmleri göster\n    displayWeeklyTrendingMovies(data.results);\n\n    // Aktif sayfayı güncelle\n    currentPage = pageNumber;\n    updatePaginationUI();\n\n    // Sayfayı yukarı kaydır\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  } catch (error) {\n    console.error('Error fetching page:', error);\n    showErrorModal('Failed to load movies. Please try again later.');\n  } finally {\n    isLoading = false;\n  }\n}\n\n// Pagination UI'ı güncelle\nfunction updatePaginationUI() {\n  const pageNumbers = document.querySelector('.page-numbers');\n  const prevBtn = document.querySelector('.pagination-btn.prev-page');\n  const nextBtn = document.querySelector('.pagination-btn.next-page');\n\n  // Önceki/Sonraki butonlarını güncelle\n  prevBtn.disabled = currentPage === 1;\n  nextBtn.disabled = currentPage === totalPages;\n\n  // Sayfa numaralarını güncelle\n  let pageButtons = '';\n\n  // İlk sayfa\n  pageButtons += `\n    <button class=\"pagination-btn ${\n      currentPage === 1 ? 'active' : ''\n    }\" data-page=\"1\">1</button>\n  `;\n\n  // Sol taraf noktaları\n  if (currentPage > 4) {\n    pageButtons += '<span class=\"page-dots\">...</span>';\n  }\n\n  // Aktif sayfanın etrafındaki sayfalar\n  for (\n    let i = Math.max(2, currentPage - 2);\n    i <= Math.min(totalPages - 1, currentPage + 2);\n    i++\n  ) {\n    pageButtons += `\n      <button class=\"pagination-btn ${\n        currentPage === i ? 'active' : ''\n      }\" data-page=\"${i}\">${i}</button>\n    `;\n  }\n\n  // Sağ taraf noktaları\n  if (currentPage < totalPages - 3) {\n    pageButtons += '<span class=\"page-dots\">...</span>';\n  }\n\n  // Son sayfa\n  if (totalPages > 1) {\n    pageButtons += `\n      <button class=\"pagination-btn ${\n        currentPage === totalPages ? 'active' : ''\n      }\" data-page=\"${totalPages}\">${totalPages}</button>\n    `;\n  }\n\n  pageNumbers.innerHTML = pageButtons;\n\n  // Sayfa butonlarına tıklama olayı ekle\n  pageNumbers.querySelectorAll('.pagination-btn').forEach(btn => {\n    btn.addEventListener('click', () => {\n      const page = parseInt(btn.dataset.page);\n      handlePageClick(page);\n    });\n  });\n}\n\n// Önceki/Sonraki butonlarına tıklama olayı ekle\ndocument\n  .querySelector('.pagination-btn.prev-page')\n  .addEventListener('click', () => {\n    if (currentPage > 1) {\n      handlePageClick(currentPage - 1);\n    }\n  });\n\ndocument\n  .querySelector('.pagination-btn.next-page')\n  .addEventListener('click', () => {\n    if (currentPage < totalPages) {\n      handlePageClick(currentPage + 1);\n    }\n  });\n\n// Arama fonksiyonu\nasync function handleSearch(e) {\n  e.preventDefault();\n  const searchInput = document.querySelector('.search-input');\n  const searchTerm = searchInput.value.trim();\n\n  if (!searchTerm) {\n    // Arama boşsa normal filmleri göster\n    fetchWeeklyTrendingMovies();\n    return;\n  }\n\n  try {\n    const data = await fetchData('/search/movie', {\n      query: searchTerm,\n      language: 'en-US',\n    });\n\n    if (!data?.results) return;\n\n    // Sadece weekly-movie-list'i güncelle\n    const weeklyMovieList = document.querySelector('.weekly-movie-list');\n    weeklyMovieList.innerHTML = '';\n\n    for (const movie of data.results) {\n      try {\n        // Get movie details to fetch genres\n        const movieDetails = await fetchData(`/movie/${movie.id}`);\n        const genreNames = movieDetails.genres.map(g => g.name).join(', ');\n\n        // Check if movie is in library\n        const library = JSON.parse(localStorage.getItem('library') || '[]');\n        const isInLibrary = library.some(m => m.id === movie.id);\n\n        const movieItem = document.createElement('li');\n        movieItem.className = 'weekly-movie-item';\n        movieItem.innerHTML = `\n          <a href=\"#\" class=\"weekly-movie-link\" data-movie-id=\"${movie.id}\">\n            <img\n              src=\"${IMAGE_BASE_URL}/w500${movie.poster_path}\"\n              alt=\"${movie.title}\"\n              class=\"weekly-movie-image\"\n            />\n            <div class=\"movie-rating\">\n              <i class=\"fas fa-star\"></i>\n              <span>${movie.vote_average.toFixed(1)}</span>\n            </div>\n            <div class=\"movie-year\">${\n              movie.release_date?.split('-')[0] || 'N/A'\n            }</div>\n            <div class=\"weekly-movie-info\">\n              <h3 class=\"movie-title\">${movie.title}</h3>\n              <div class=\"movie-meta\">\n                <span>${genreNames}</span>\n                <span class=\"movie-meta-divider\">|</span>\n                <span>${movie.release_date?.split('-')[0] || 'N/A'}</span>\n              </div>\n            </div>\n          </a>\n          <button class=\"add-to-library ${\n            isInLibrary ? 'added' : ''\n          }\" data-movie-id=\"${movie.id}\">\n            <i class=\"fas ${isInLibrary ? 'fa-check' : 'fa-plus'}\"></i>\n            ${isInLibrary ? 'Added to library' : 'Add to library'}\n          </button>\n        `;\n\n        // Add to Library butonuna tıklama olayı ekle\n        const addToLibraryBtn = movieItem.querySelector('.add-to-library');\n        addToLibraryBtn.addEventListener('click', async e => {\n          e.preventDefault();\n          e.stopPropagation();\n\n          const movieId = parseInt(addToLibraryBtn.dataset.movieId);\n          const movie = data.results.find(m => m.id === movieId);\n          if (!movie) return;\n\n          // Get movie details for complete data\n          const movieDetails = await fetchData(`/movie/${movieId}`);\n\n          // Get movie data with consistent format\n          const movieData = {\n            id: movieId,\n            title: movie.title,\n            poster_path: movie.poster_path,\n            release_date: movie.release_date,\n            vote_average: movie.vote_average,\n            genres: movieDetails.genres.map(g => g.name).join(', '),\n            overview: movie.overview,\n          };\n\n          // Check if movie is in library\n          let library = JSON.parse(localStorage.getItem('library') || '[]');\n          const isInLibrary = library.some(m => m.id === movieId);\n\n          if (isInLibrary) {\n            // Remove from library\n            library = library.filter(m => m.id !== movieId);\n            localStorage.setItem('library', JSON.stringify(library));\n            addToLibraryBtn.innerHTML =\n              '<i class=\"fas fa-plus\"></i> Add to library';\n            addToLibraryBtn.style.background = '#ff6b01';\n            addToLibraryBtn.disabled = false;\n          } else {\n            // Add to library\n            library.push(movieData);\n            localStorage.setItem('library', JSON.stringify(library));\n            addToLibraryBtn.innerHTML =\n              '<i class=\"fas fa-check\"></i> Added to library';\n            addToLibraryBtn.style.background = '#2ecc71';\n            addToLibraryBtn.disabled = true;\n          }\n        });\n\n        weeklyMovieList.appendChild(movieItem);\n      } catch (error) {\n        console.error(`Error fetching details for movie ${movie.id}:`, error);\n      }\n    }\n\n    // Pagination'ı gizle\n    document.querySelector('.pagination').style.display = 'none';\n  } catch (error) {\n    console.error('Error searching movies:', error);\n    showErrorModal('Failed to search movies. Please try again later.');\n  }\n}\n\n// Yıl filtresi için fonksiyon\nasync function handleYearFilter(year) {\n  try {\n    let data;\n    if (year === 'all') {\n      // Tüm yıllar seçiliyse normal filmleri getir\n      data = await fetchData('/trending/movie/week');\n    } else {\n      // Seçilen yıla göre filmleri getir\n      data = await fetchData('/discover/movie', {\n        primary_release_year: year,\n        sort_by: 'popularity.desc',\n        language: 'en-US',\n      });\n    }\n\n    if (!data?.results) return;\n\n    // Filmleri göster\n    displayWeeklyTrendingMovies(data.results);\n\n    // Pagination'ı gizle\n    document.querySelector('.pagination').style.display = 'none';\n  } catch (error) {\n    console.error('Error fetching movies by year:', error);\n    showErrorModal('Failed to load movies. Please try again later.');\n  }\n}\n\n// Update library buttons\nconst updateLibraryButtons = () => {\n  const library = JSON.parse(localStorage.getItem('library') || '[]');\n  document.querySelectorAll('.add-to-library').forEach(button => {\n    const movieId = parseInt(button.dataset.movieId);\n    if (library.some(movie => movie.id === movieId)) {\n      button.innerHTML = '<i class=\"fas fa-check\"></i> Added to library';\n      button.style.background = '#2ecc71';\n      button.disabled = true;\n    }\n  });\n};\n\n// Initialize\ndocument.addEventListener('DOMContentLoaded', () => {\n  initTheme();\n  fetchWeeklyTrendingMovies();\n  renderUpcomingMovies();\n  updatePaginationUI();\n  updateLibraryButtons();\n\n  // Arama butonuna tıklama olayı ekle\n  const searchButton = document.querySelector('.search-button');\n  searchButton.addEventListener('click', handleSearch);\n\n  // Enter tuşuna basıldığında arama yap\n  const searchInput = document.querySelector('.search-input');\n  searchInput.addEventListener('keypress', e => {\n    if (e.key === 'Enter') {\n      handleSearch(e);\n    }\n  });\n\n  // Yıl seçicisine değişiklik olayı ekle\n  const yearSelect = document.querySelector('.year-select');\n  yearSelect.addEventListener('change', e => {\n    const selectedYear = e.target.value;\n    handleYearFilter(selectedYear);\n  });\n});\n"],"names":["API_KEY","API_BASE_URL","IMAGE_BASE_URL","domElements","apiBaseUrl","axios","fetchData","endpoint","params","error","createStarRating","rating","_","index","formatDate","dateString","getGenreNames","genres","limit","g","initTheme","showVideoModal","videoId","closeVideoModal","showErrorModal","message","closeErrorModal","formatCurrency","amount","formatRuntime","minutes","hours","remainingMinutes","showMovieDetails","movieId","movieDetails","credits","castList","actor","closeModal","renderUpcomingMovies","currentDate","lastDayOfMonth","data","thisMonthMovies","movie","releaseDate","a","b","moviePromises","genreNames","isInLibrary","m","movieItems","e","button","movieData","library","updateHeroWithMovie","heroContent","hero","watchTrailerBtn","moreDetailsBtn","trailer","video","currentMovieIndex","trendingMovies","heroInterval","startHeroAutoSlide","movies","prevBtn","nextBtn","displayWeeklyTrendingMovies","weeklyMovieList","movieItem","addToLibraryBtn","fetchWeeklyTrendingMovies","currentPage","totalPages","isLoading","handlePageClick","pageNumber","updatePaginationUI","pageNumbers","pageButtons","i","btn","page","handleSearch","searchTerm","_a","_b","handleYearFilter","year","updateLibraryButtons","selectedYear"],"mappings":"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"}